// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// Account -------------------------------

model Employee {
  id                  String                @id
  name                String
  email               String                @unique
  password            String
  gender              String
  updated_at          DateTime?
  created_at          DateTime
  Employee_Permission Employee_Permission[]
  Employee_Roles      Employee_Roles[]

  @@map("employees")
}

model Role {
  id              String            @id
  name            String            @unique
  description     String
  created_at      DateTime
  Permission_Role Permission_Role[]
  Employee_Roles  Employee_Roles[]

  @@map("roles")
}

model Permission {
  id                  String                @id
  name                String                @unique
  description         String
  created_at          DateTime
  Employee_Permission Employee_Permission[]
  Permission_Role     Permission_Role[]

  @@map("permissions")
}

model Employee_Permission {
  id            String     @id
  employee_id   String
  employee      Employee   @relation(fields: [employee_id], references: [id], onDelete: Cascade)
  permission_id String
  permission    Permission @relation(fields: [permission_id], references: [id], onDelete: Cascade)

  @@map("employees_permissions")
}

model Employee_Roles {
  id          String   @id
  employee_id String
  employee    Employee @relation(fields: [employee_id], references: [id], onDelete: Cascade)
  role_id     String
  role        Role     @relation(fields: [role_id], references: [id], onDelete: Cascade)

  @@map("employees_roles")
}

model Permission_Role {
  id            String     @id
  role_id       String
  role          Role       @relation(fields: [role_id], references: [id], onDelete: Cascade)
  permission_id String
  permission    Permission @relation(fields: [permission_id], references: [id], onDelete: Cascade)

  @@map("permissions_roles")
}

// ----------------------------------------
